
<script setup lang="ts">
import { ref } from "vue"
import Nota from '../modelo/Midi/nota';
import { Musica } from '../modelo/musica';

defineProps<{ msg: string }>()

const buscar = ref("ğ…¡");
const nota_en_top0 = ref("G5");
const notas = [[new Nota("C6", 2), new Nota("C4", 4), new Nota("C5", 2)], [new Nota("D4", 4)], [new Nota("C4", 4)]];


const musica = new Musica();

function estilo_nota(nota: Nota) 
{
  let top = musica.getDistanciaNotas(nota_en_top0.value, nota.nota, "C") * 6;


  return { 'position': 'absolute',
    'top': top + 'px'

   };
}



function getnota(nota: Nota) { 
  const duracion = nota.duracion;
  if (duracion == 1) {
    return "0";
  }
  if (duracion == 2) {
    return "ğ…—";
  }
  if (duracion == 4) {
    return "ğ…Ÿ";
  }
  if (duracion == 8) {
    return "ğ…¡";
  }
  if (duracion == 16) {
    return "ğ…£";
  }

  if (duracion == -1) {
    return "ğ„¾";
  }
  if (duracion == -2) {
    return "ğ„¿";
  }
  if (duracion == -4) {
    return "ğ„";
  }
  if (duracion == -8) {
    return "ğ„´";
  }  
  return " ";
}



</script>

<template>
  <div>
<div style="font-family: 'Noto Music'; font-size: 50px; display: flex;">
  
  
  
  <div>
    <div style="position: absolute;" :style="{ top: '50px'}">ğ„</div>
    <div style="position: relative;"><img src="/img/pentagrama.png" /></div>
  </div>  
  <div>
    <div style="position: relative;"><img src="/img/pentagrama.png" /></div>
  </div>  

  
  <div v-for="(nota, notaindex) in notas" :key="notaindex">
    
        <div v-for="(key, keyindex) in nota" :style="estilo_nota(key)" :key="keyindex">
          {{  getnota(key) }}
        </div>
        <div style="position: relative;"><img src="/img/pentagrama.png" /></div>
  </div>
  
  
  



  </div>





<div style="font-family: 'Noto Music'; font-size: 50px;">  
        ğ„† ğ„™ğ† ğ…—ğ…Ÿğ…¡ğ…£ ğ„ğ„Ÿğ„¢ ğ„¾ğ„¿ğ„ ğ„´ ğ„¶ğ… ğ„­ğ„° ğ‡›ğ‡œ ğ„Š ğ„‡ ğ€¸ğ€¹ğ€ºğ€»ğ€¼ğ€½ ğˆ€ğˆğˆ‚ğˆƒğˆ„ğˆ…
</div></div>
</template>

<style scoped>
.read-the-docs {
  color: #888;
}
</style>
